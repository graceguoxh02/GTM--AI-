# GTM 助手 - 国产大模型版

> 基于国产 AI 大模型的产品商业化分析工具，专为 To B AI 公司 VP 打造

## 🆕 版本说明 (v2.0)

这是 GTM 助手的**国产大模型版**，主要特性：

| 特性 | 说明 |
|------|------|
| **多模型支持** | 通义千问、DeepSeek、智谱GLM、Kimi 四大国产模型 |
| **智能路由** | 根据场景自动选择最佳模型（对话/分析/文档/图片） |
| **多模态能力** | 支持图片、PDF、PPT、Word 等文档解析 |
| **极低成本** | DeepSeek 几乎免费，通义千问有 100万tokens/月 免费额度 |
| **国内可用** | 所有模型均可在中国大陆直接访问，无需科学上网 |
| **降级保护** | 主模型失败时自动切换备用模型 |

## 🤖 智能模型分配

系统会根据使用场景自动选择最优模型：

| 场景 | 自动选择 | 理由 |
|------|----------|------|
| **GTM 引导师对话** | 通义千问 Qwen-VL-Plus | 对话流畅，支持图片上传 |
| **文档解析** (PDF/PPT/Word) | 通义千问 Qwen-VL-Max | 文档处理能力最强 |
| **深度分析** (含图片) | 智谱 GLM-4V | 图文综合理解好 |
| **深度分析** (纯文本) | DeepSeek V3 | 推理能力顶级，几乎免费 |
| **长文档总结** | Kimi (Moonshot) | 200K 上下文，长文本专家 |
| **竞品分析** (含截图) | 智谱 GLM-4V | 多模态信息整合 |

## ✨ 核心功能

### 1. AI GTM 引导师
- 💬 智能对话引导，帮助你从零梳理产品矩阵
- 🎯 基于《定位》《跨越鸿沟》等经典商业理论
- ⚡ 流式返回，实时看到 AI 思考过程
- 🖼️ **支持上传图片**（产品截图、竞品对比等）

### 2. 产品全景图
- 📊 管理所有产品的商业化进展
- 📈 追踪 AI 分析完成度
- ➕ 快速添加新产品

### 3. AI 深度分析
5 个维度的专业分析，智能选择最佳模型：

| 维度 | 参考理论 | AI 侧重点 |
|------|----------|-----------|
| **产品定位** | 《定位》 | 一句话定位、心智阶梯、差异化、定位语 |
| **市场选择** | 《跨越鸿沟》 | 市场阶段、保龄球瓶策略、滩头阵地、跨越鸿沟 |
| **目标用户** | 《商业模式新生代》 | 决策者/使用者/影响者画像、生命周期、用户分层 |
| **销售推广** | 《超级转化率》 | 获客漏斗、流量策略、转化策略、营销内容 |
| **GTM 路径** | 《SaaS创业路线图》 | 阶段判断、核心任务、策略组合、里程碑 |

### 4. 商业模式画布
- 📋 9 个维度系统梳理(可选 AI 辅助分析)
- ✅ 追踪每个维度的验证状态

### 5. 文档上传解析 🆕
- 📄 支持 PDF、PPT、Word 文档上传
- 🖼️ 支持图片上传和识别
- 🤖 自动提取关键信息并生成分析

## 🚀 快速开始

### 1. 安装依赖

```bash
cd gtm-assistant-ai-version
npm install
```

### 2. 配置 API Key

复制环境变量模板：
```bash
cp .env.example .env
```

编辑 `.env` 文件，**至少配置一个**模型的 API Key：

```env
# 推荐优先配置（多模态能力强）
QWEN_API_KEY=sk-xxx

# 推荐配置（性价比最高，几乎免费）
DEEPSEEK_API_KEY=sk-xxx

# 可选配置
GLM_API_KEY=sk-xxx
MOONSHOT_API_KEY=sk-xxx
```

**⚠️ 重要说明：**
- 环境变量**没有** `VITE_` 前缀（后端专用，前端无法访问）
- 本地开发：配置在 `.env` 文件中
- Vercel 部署：在 Vercel 项目设置 → Environment Variables 中配置

#### 如何获取 API Key：

| 模型 | 注册地址 | 免费额度 |
|------|----------|----------|
| **通义千问** | https://dashscope.console.aliyun.com/apiKey | 100万tokens/月 |
| **DeepSeek** | https://platform.deepseek.com/api_keys | ¥1/百万tokens（极低价） |
| **智谱GLM** | https://open.bigmodel.cn/usercenter/apikeys | 有免费额度 |
| **Kimi** | https://platform.moonshot.cn/console/api-keys | 有免费额度 |

**推荐配置方案：**
- 💰 **最省钱**：只配置 DeepSeek（纯文本场景够用）
- 🎯 **推荐配置**：DeepSeek + 通义千问（覆盖多模态场景）
- 🚀 **最佳体验**：配置所有模型（获得最优效果）

### 3. 启动开发服务器

**⚠️ 重要：必须使用 Vercel CLI 来运行本地开发环境**

```bash
# 使用 Vercel CLI（推荐，支持后端 API）
npm run dev

# 如果提示需要登录 Vercel
vercel login

# 或者只运行前端（无后端 API，AI 功能不可用）
npm run dev:vite
```

浏览器打开 http://localhost:3000 (Vercel CLI) 或 http://localhost:5173 (Vite)

**为什么要用 Vercel CLI？**
- ✅ 本地运行 Vercel Serverless Functions ([api/chat.js](api/chat.js))
- ✅ 模拟生产环境
- ✅ AI 功能正常工作

## 📖 使用指南

### 步骤 1: GTM 引导师对话

1. 点击左侧 **"GTM 引导师"**
2. AI 会主动向你提问，了解公司情况
3. 回答问题或使用快捷回复
4. 💡 可以上传产品截图、竞品对比图等
5. AI 会帮你梳理产品矩阵

**技巧：**
- 提供越详细的信息，AI 分析越准确
- 上传图片时，系统自动使用多模态模型
- 点击"重新开始"可以重置对话

### 步骤 2: 添加产品

1. 点击左侧 **"产品全景图"**
2. 点击 **"添加产品"** 或点击 "+" 卡片
3. 填写产品基本信息
4. 选择成熟度(探索/成长/成熟)

### 步骤 3: AI 深度分析

1. 在产品全景图点击某个产品卡片
2. 在弹窗中点击 5 个分析维度之一
3. 点击 **"开始 AI 分析"**
4. 系统自动选择最优模型进行分析
5. 等待 10-30 秒，AI 生成专业分析报告

**AI 会分析什么：**
- 基于你提供的产品信息
- 结合经典商业理论
- 生成具体、可落地的建议
- 每个维度 2000-3000 字深度分析

### 步骤 4: 查看和管理分析

- ✅ 已完成的分析会标记为"已完成"
- 📊 产品卡片显示分析完成度进度条
- 🔄 可以点击"重新分析"获取新的见解
- 💾 分析结果自动保存(当前保存在浏览器)

## 🛠️ 技术架构

### 技术栈

- **前端框架**: React 18
- **构建工具**: Vite 5
- **样式**: Tailwind CSS 3
- **图标**: Lucide React
- **AI 模型**: 通义千问、DeepSeek、智谱GLM、Kimi

### 项目结构

```
src/
├── App.jsx          # 主应用组件(UI + 状态管理)
├── aiService.js     # AI 服务层(多模型调用)
├── modelConfig.js   # 模型配置和智能路由 🆕
├── prompts.js       # 提示词系统
├── main.jsx         # 应用入口
└── index.css        # 全局样式
```

### 核心模块

#### 1. 模型配置 (`modelConfig.js`) 🆕

智能路由系统，根据场景自动选择最佳模型：

```javascript
// 自动选择最优模型
const { provider, model } = selectOptimalModel(
  scenario,    // 场景类型
  hasImage,    // 是否包含图片
  isLongText   // 是否长文本
);

// 场景类型
- CHAT: GTM 引导师对话
- DOCUMENT_PARSE: 文档解析
- ANALYSIS: 深度分析
- LONG_TEXT: 长文档总结
- COMPETITOR: 竞品分析
```

#### 2. AI 服务层 (`aiService.js`)

统一的 API 调用接口，支持：
- 智能模型选择
- 流式对话
- 降级保护
- 错误处理

#### 3. 提示词系统 (`prompts.js`)

为每个分析场景精心设计的提示词：
- `GTM_NAVIGATOR_SYSTEM_PROMPT`: GTM 引导师
- `POSITIONING_ANALYSIS_PROMPT`: 产品定位分析
- `MARKET_ANALYSIS_PROMPT`: 市场选择分析
- `USER_ANALYSIS_PROMPT`: 目标用户分析
- `SALES_ANALYSIS_PROMPT`: 销售推广分析
- `GTM_ROADMAP_PROMPT`: GTM 路径分析

## 💰 成本估算

假设每月使用情况：
- 对话 100 次（含图片 50 次）
- 文档上传 20 个（PDF/PPT）
- 深度分析 50 次（含图片 20 次）
- 长文档总结 10 次

### 配置方案对比

| 配置方案 | 月成本估算 | 适用场景 |
|----------|-----------|----------|
| **仅 DeepSeek** | ¥5-10 | 纯文本分析，极致省钱 |
| **DeepSeek + 通义千问** | ¥20-50 | 多模态 + 文本分析，推荐 |
| **完整配置** | ¥30-80 | 最佳效果，各场景最优 |

**对比 Claude：** 成本降低 **95%+**（Claude 约 $100-200/月）

## 🎯 未来规划

### 高优先级
- [x] 支持国产大模型
- [x] 多模型智能路由
- [x] 多模态能力（图片、文档）
- [ ] 添加数据持久化(localStorage 或后端)
- [ ] 支持导出分析报告(PDF/Markdown)
- [ ] UI 上传文档和图片功能

### 中优先级
- [ ] 优化提示词，提升分析质量
- [ ] 支持多产品对比分析
- [ ] 添加用户登录和团队协作
- [ ] 成本统计和额度提醒

### 低优先级
- [ ] 移动端适配
- [ ] 国际化支持
- [ ] 数据可视化图表
- [ ] AI 生成 GTM 执行清单

## 💡 使用建议

### 如何获得更好的 AI 分析：

1. **选择合适的模型配置**
   - 仅纯文本分析：配置 DeepSeek 即可
   - 需要上传图片/文档：必须配置通义千问或智谱GLM
   - 超长文档：配置 Kimi

2. **提供详细信息**
   - 产品描述要具体，包含核心功能和技术特点
   - 目标客户要明确，最好精确到具体行业/场景
   - 上传相关图片和文档，提升分析准确性

3. **多轮对话**
   - 不满意可以点"重新分析"
   - 不同时间分析可能有不同角度的见解
   - 可以结合多次分析结果综合判断

4. **人机协作**
   - AI 分析是辅助，不是替代
   - 结合你的行业经验和市场洞察
   - 把 AI 建议当作思考的起点，而非终点

## 🔧 自定义配置

### 调整模型选择策略

编辑 `src/modelConfig.js` 中的 `selectOptimalModel` 函数：

```javascript
// 例如：强制所有场景使用 DeepSeek
export function selectOptimalModel(scenario, hasImage, isLongText) {
  return { provider: 'DEEPSEEK', model: 'deepseek-chat' };
}
```

### 自定义提示词

编辑 `src/prompts.js`，调整各场景的提示词：

```javascript
export const POSITIONING_ANALYSIS_PROMPT = (productInfo) => `
你是产品定位专家...
(修改这里的提示词，调整 AI 行为)
`;
```

## 🔒 隐私和安全

- ✅ 所有 API 调用在前端直接发起
- ✅ API Key 保存在本地 .env 文件
- ✅ 数据不经过第三方服务器
- ⚠️ 不要在公共环境泄露 .env 文件
- ✅ 生产环境建议使用后端代理

## 📝 常见问题

### Q: 必须配置所有模型吗？
A: 不需要。至少配置一个即可，推荐配置 DeepSeek + 通义千问。

### Q: 如果只配置一个模型会怎样？
A: 系统会在该模型能力范围内工作。例如只配置 DeepSeek，则无法处理图片。

### Q: 成本会很高吗？
A: 不会。DeepSeek 几乎免费，通义千问有 100万tokens/月 免费额度，成本远低于 Claude。

### Q: 模型会自动切换吗？
A: 是的。系统根据场景智能选择最优模型，主模型失败时自动降级。

### Q: 支持哪些文档格式？
A: 目前 AI 能力支持图片、PDF、PPT、Word 等，UI 上传功能开发中。

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提 Issue 和 Pull Request!

---

**Happy Analyzing! 🚀**

有问题欢迎联系或提 Issue。

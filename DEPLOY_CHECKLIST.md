# ğŸš€ Vercel éƒ¨ç½²æ£€æŸ¥æ¸…å•

## âœ… éƒ¨ç½²å‰æ£€æŸ¥

### 1. ä»£ç å‡†å¤‡
- [x] API å‡½æ•°ä½¿ç”¨æ­£ç¡®çš„ ES module æ ¼å¼ (`export default`)
- [x] åˆ é™¤äº†æµ‹è¯•æ–‡ä»¶ï¼ˆping.js, test-env.jsï¼‰
- [x] `vercel.json` é…ç½®æ­£ç¡®
- [x] `.env` æ–‡ä»¶å­˜åœ¨ï¼ˆä¸ä¼šè¢«æäº¤åˆ° Gitï¼‰

### 2. ç¯å¢ƒå˜é‡é…ç½®ï¼ˆé‡è¦ï¼ï¼‰

åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

1. ç™»å½• Vercel Dashboard
2. è¿›å…¥é¡¹ç›® Settings â†’ Environment Variables
3. æ·»åŠ ä»¥ä¸‹å˜é‡ï¼ˆè‡³å°‘é…ç½®ä¸€ä¸ªï¼‰ï¼š

```
QWEN_API_KEY=your_qwen_api_key
DEEPSEEK_API_KEY=your_deepseek_api_key
GLM_API_KEY=your_glm_api_key
MOONSHOT_API_KEY=your_moonshot_api_key
```

**âš ï¸ æ³¨æ„**ï¼šç¯å¢ƒå˜é‡åç§°**ä¸è¦**åŠ  `VITE_` å‰ç¼€ï¼

### 3. é¡¹ç›®ç»“æ„éªŒè¯

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ chat.js          âœ… Serverless Functionï¼ˆES moduleï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.jsx          âœ… å‰ç«¯ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ aiService.js     âœ… AI æœåŠ¡è°ƒç”¨ /api/chat
â”‚   â””â”€â”€ ...
â”œâ”€â”€ dev-server.js        âš ï¸ ä»…ç”¨äºæœ¬åœ°å¼€å‘ï¼ŒVercel ä¸ä¼šä½¿ç”¨
â”œâ”€â”€ vercel.json          âœ… Vercel é…ç½®
â”œâ”€â”€ package.json         âœ… åŒ…å« "type": "module"
â””â”€â”€ .env                 âš ï¸ ä¸ä¼šè¢«æäº¤ï¼Œéœ€åœ¨ Vercel é…ç½®
```

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ–¹å¼ 1ï¼šé€šè¿‡ Git è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **æäº¤ä»£ç åˆ° GitHub**
```bash
git add .
git commit -m "é…ç½®æœ¬åœ°å¼€å‘ç¯å¢ƒå’Œ Vercel éƒ¨ç½²"
git push origin main
```

2. **Vercel è‡ªåŠ¨æ„å»º**
   - Vercel ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ¨é€
   - è‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²
   - 2-3 åˆ†é’Ÿåå®Œæˆ

3. **æ£€æŸ¥éƒ¨ç½²çŠ¶æ€**
   - è®¿é—® Vercel Dashboard
   - æŸ¥çœ‹ Deployments æ ‡ç­¾
   - ç¡®è®¤çŠ¶æ€ä¸º "Ready"

### æ–¹å¼ 2ï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
# ç¡®ä¿å·²ç™»å½• Vercel
vercel login

# éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
vercel --prod
```

## ğŸ§ª éƒ¨ç½²åæµ‹è¯•

### 1. æµ‹è¯•å‰ç«¯
è®¿é—® Vercel æä¾›çš„ URLï¼ˆå¦‚ `https://your-project.vercel.app`ï¼‰

### 2. æµ‹è¯• API ç«¯ç‚¹
```bash
curl -X POST https://your-project.vercel.app/api/chat \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "QWEN",
    "model": "qwen-turbo",
    "messages": [{"role": "user", "content": "ä½ å¥½"}],
    "maxTokens": 100
  }'
```

åº”è¯¥çœ‹åˆ°æµå¼å“åº”æ•°æ®ã€‚

### 3. æµ‹è¯• AI å¯¹è¯åŠŸèƒ½
1. æ‰“å¼€éƒ¨ç½²çš„ç½‘ç«™
2. ç‚¹å‡» "GTM å¼•å¯¼å¸ˆ"
3. è¾“å…¥é—®é¢˜å¹¶å‘é€
4. åº”è¯¥èƒ½çœ‹åˆ° AI å›å¤

## ğŸ“Š å…³é”®å·®å¼‚ï¼šæœ¬åœ° vs ç”Ÿäº§

| åŠŸèƒ½ | æœ¬åœ°å¼€å‘ | Vercel ç”Ÿäº§ |
|------|----------|-------------|
| **API æœåŠ¡å™¨** | Express (dev-server.js) | Vercel Serverless Functions |
| **å¯åŠ¨å‘½ä»¤** | `npm run dev:api` + `npm run dev` | è‡ªåŠ¨éƒ¨ç½² |
| **ç¯å¢ƒå˜é‡** | `.env` æ–‡ä»¶ | Vercel Dashboard é…ç½® |
| **ç«¯å£** | 3001 (API) + 5173 (å‰ç«¯) | è‡ªåŠ¨åˆ†é… |
| **API è·¯å¾„** | é€šè¿‡ Vite ä»£ç† | ç›´æ¥è®¿é—® `/api/*` |

## âš ï¸ å¸¸è§é—®é¢˜

### Q: éƒ¨ç½²å API è¿”å› 500 é”™è¯¯ï¼Ÿ
**A**: æ£€æŸ¥ Vercel ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®ã€‚è¿›å…¥ Settings â†’ Environment Variables ç¡®è®¤ã€‚

### Q: API è°ƒç”¨è¶…æ—¶ï¼Ÿ
**A**: Vercel Serverless Functions é»˜è®¤è¶…æ—¶ 10 ç§’ï¼Œæˆ‘ä»¬åœ¨ `vercel.json` ä¸­å·²è®¾ç½®ä¸º 60 ç§’ã€‚

### Q: ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆï¼Ÿ
**A**:
1. ç¡®è®¤å˜é‡åç§°æ²¡æœ‰ `VITE_` å‰ç¼€
2. ä¿®æ”¹ç¯å¢ƒå˜é‡åéœ€è¦é‡æ–°éƒ¨ç½²
3. åœ¨ Vercel Dashboard â†’ Settings â†’ Environment Variables ä¸­æ£€æŸ¥

### Q: æœ¬åœ°å¼€å‘æ­£å¸¸ï¼Œéƒ¨ç½²åä¸å·¥ä½œï¼Ÿ
**A**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
2. æŸ¥çœ‹ Vercel Logsï¼ˆDashboard â†’ Deployments â†’ ç‚¹å‡»éƒ¨ç½² â†’ Runtime Logsï¼‰
3. ç¡®è®¤ API Keys åœ¨ Vercel ä¸­é…ç½®æ­£ç¡®

## ğŸ” è°ƒè¯•éƒ¨ç½²é—®é¢˜

### æŸ¥çœ‹ Vercel æ—¥å¿—
1. è¿›å…¥ Vercel Dashboard
2. ç‚¹å‡» Deployments
3. é€‰æ‹©æœ€æ–°éƒ¨ç½²
4. æŸ¥çœ‹ "Runtime Logs" æ ‡ç­¾

### æŸ¥çœ‹æ„å»ºæ—¥å¿—
åœ¨éƒ¨ç½²è¯¦æƒ…é¡µé¢çš„ "Build Logs" æ ‡ç­¾ä¸­æŸ¥çœ‹æ„å»ºè¿‡ç¨‹ã€‚

## âœ… éƒ¨ç½²æˆåŠŸæ ‡å¿—

- [ ] æ„å»ºæˆåŠŸï¼ˆBuild Logs æ˜¾ç¤ºæˆåŠŸï¼‰
- [ ] éƒ¨ç½²çŠ¶æ€ä¸º "Ready"
- [ ] è®¿é—®éƒ¨ç½² URL èƒ½çœ‹åˆ°å‰ç«¯ç•Œé¢
- [ ] API ç«¯ç‚¹è¿”å›æ­£ç¡®å“åº”
- [ ] AI å¯¹è¯åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æµè§ˆå™¨æ§åˆ¶å°æ— é”™è¯¯

---

**æœ€åæ›´æ–°**: 2026-02-03
**çŠ¶æ€**: âœ… å·²éªŒè¯æœ¬åœ°å¼€å‘ç¯å¢ƒå’Œéƒ¨ç½²é…ç½®
